<ion-card class="single-post-container">
  <img alt="Silhouette of mountains" src="https://ionicframework.com/docs/img/demos/card-media.png" />
  <ion-card-header>
    <ion-card-title class="title-style">{{post.title}}</ion-card-title>
  </ion-card-header>

  <div *ngIf="isSinglePost; else viewDetailsButton">
    <ion-card-content>
      {{post.body}}
    </ion-card-content>
    <ion-button (click)="goBack()">Go back</ion-button>
  </div>

  <ng-template #viewDetailsButton>
        <ion-button (click)="onViewDetails()">View details</ion-button>
  </ng-template>
  
  <div *ngIf="isSinglePost">
    <ion-button color="success" title="Update post" (click)="toggleUpdatePostPopover()"><ion-icon name="create-outline"></ion-icon></ion-button>
    <ion-button color="danger" title="Delete post" (click)="handleDeleteClick()"><ion-icon name="trash-outline"></ion-icon></ion-button>
  </div>
</ion-card>

<ion-popover [isOpen]="isUpdatePopoverOpen">
  <ng-template>
      <form class="update-form-container">
        <ion-list>
          <ion-item>
            <ion-input labelPlacement="stacked" #title placeholder="Title" [value]="post.title"></ion-input>
          </ion-item>
          <ion-item>
            <ion-textarea
            #body
            placeholder="Post details"
            rows="10"
            [value]="post.body"
          ></ion-textarea>
          </ion-item>
          <br>
          <div>

            <ion-button color="danger" (click)="toggleUpdatePostPopover()">Cancel</ion-button>
            <ion-button (click)="onUpdatePost(title, body)">update</ion-button>
          </div>
        </ion-list>
    </form>
  </ng-template>
</ion-popover>